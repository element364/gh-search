import{n as x,q as v,_ as m,h as P,c as i,f as I,k as l,M as a,E as g,K as b,l as R,$ as w}from"./q-DiPDvItd.js";import{f as K,s as O,g as j}from"./q-CKn4cm-B.js";const A=x(v(()=>m(()=>import("./q-CASzZTw2.js"),__vite__mapDeps([])),"s_rKPyOd1qt6A")),D=x(v(()=>m(()=>import("./q-D8iXGi5Y.js"),__vite__mapDeps([])),"s_mT7i3BAJwXg")),k=()=>{var o;P();const u=i("filename:wallet.cpp"),r=i([]),t=i(""),c=i(0),n=i(!1),s=I({value:{}});return l("div",null,null,[l("form",null,{class:"mx-auto my-10 max-w-lg",onSubmit$:v(()=>m(()=>Promise.resolve().then(()=>y),void 0),"s_hIi0r0lsGE8",[n,t,s,u,r]),"preventdefault:submit":!0},[l("label",null,null,["Search",l("div",null,{class:"flex items-center rounded-lg border-2 border-gray-300 shadow-sm"},[l("div",null,{class:"pl-4"},l("i",null,{class:"fa-solid fa-magnifying-glass"},null,3,null),3,null),l("input",null,{class:"w-full rounded-lg border-none py-2 pl-2 pr-10 text-sm text-gray-700 placeholder-gray-500 focus:ring-0",onInput$:v(()=>m(()=>Promise.resolve().then(()=>y),void 0),"s_jwjb0EKIO54",[u]),placeholder:"filename:wallet.cpp",value:u},null,3,null),l("button",null,{class:a(e=>["h-full px-2 py-2",e.value&&"bg-gray-200"],[n]),disabled:a(e=>e.value,[n])},l("i",null,{class:a(e=>["fa",e.value?"fa-circle-pause":"fa-chevron-right"],[n])},null,3,null),3,null)],3,null)],3,null),g(D,{get text(){return t.value},get progress(){return c.value},[b]:{progress:a(e=>e.value,[c]),text:a(e=>e.value,[t])}},3,"Kv_0")],1,null),((o=s.value.items)==null?void 0:o.length)&&g(R,{children:l("div",null,{class:"container mx-auto mt-8"},l("div",null,{class:"rounded-lg bg-white p-6 shadow-lg"},[l("div",null,{class:"mb-4 flex items-center justify-between"},[l("h2",null,{class:"text-lg font-semibold text-gray-700"},[l("span",null,null,[a(e=>e.value.total_count,[s])," total"],3,null),s.value.time&&l("span",null,null,[" (",a(e=>e.value.time,[s])," ms)"],3,"Kv_1")],1,null),l("div",null,{class:"flex items-center"},[l("label",null,{class:"mr-2 text-sm font-medium text-gray-600",for:"sort"},"Sort by:",3,null),l("select",null,{class:"rounded-md border border-gray-300 p-2 text-sm text-gray-600",id:"sort"},l("option",null,null,"Recently updated",3,null),3,null)],3,null)],1,null),g(A,{get searchResult(){return s.value},[b]:{searchResult:a(e=>e.value,[s])}},3,"Kv_2")],1,null),1,null)},1,"Kv_3")],1,"Kv_4")},S=async()=>{const[u,r,t,c,n]=w();try{u.value=!0,n.value.length||(n.value=await K());const s=Date.now();r.value="Searching repositories";const o=await O({query:c.value,tokens:n.value});t.value={total_count:o.length,items:o,time:Date.now()-s,incomplete_results:!1},r.value="Fetching repositories";let e=0;for(let d=0;d<t.value.items.length;d++){const T=await j({name:t.value.items[d].repository.full_name,token:n.value[e]});e=(e+1)%n.value.length,t.value.items[d].updated_at=new Date(T.updated_at),t.value.items.sort((_,p)=>{var f,h;const E=((f=_==null?void 0:_.updated_at)==null?void 0:f.getTime())??0;return(((h=p==null?void 0:p.updated_at)==null?void 0:h.getTime())??0)-E})}}catch(s){console.error(s)}finally{u.value=!1}},G=(u,r)=>{const[t]=w();return t.value=r.value},y=Object.freeze(Object.defineProperty({__proto__:null,s_hIi0r0lsGE8:S,s_jwjb0EKIO54:G,s_jyN05PDxxAs:k},Symbol.toStringTag,{value:"Module"}));export{S as s_hIi0r0lsGE8,G as s_jwjb0EKIO54,k as s_jyN05PDxxAs};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
